Agent pid 63844
Agent pid 64052
Duration  = 0.072268
Latency   = 0.000036
Bandwidth = 332097961.204953
msg: STRUCTURE: /p/gpfs1/haskins8/hpctoolkit-gcc8/ping_pong
msg: Line map : /collab/usr/global/tools/hpctoolkit/blueos_3_ppc64le_ib/.install/2020-08/packages/linux-rhel7-ppc64le/gcc-7.3.1/hpctoolkit-2020.08.03-owvnf3dby5c6r7lavcmajluzbinwzax2/lib/hpctoolkit/libhpcrun.so.0.0.0
msg: Line map : /collab/usr/global/tools/hpctoolkit/blueos_3_ppc64le_ib/.install/2020-08/packages/linux-rhel7-ppc64le/gcc-7.3.1/hpctoolkit-2020.08.03-owvnf3dby5c6r7lavcmajluzbinwzax2/lib/hpctoolkit/ext-libs/libmonitor.so.0.0.0
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/libpami_cudahook.so.1.0
msg: Line map : /usr/tce/packages/cuda/cuda-11.1.1/nvidia/compat/libcuda.so.455.32.00
msg: Line map : /usr/tce/packages/cuda/cuda-11.1.1/nvidia/targets/ppc64le-linux/lib/libcudart.so.11.1.74
msg: Line map : /g/g15/haskins8/spack/opt/spack/linux-rhel7-power9le/gcc-8.3.1/kokkos-3.2.00-szs4cjrmi42cgjlz3quck3rir763ozuo/lib64/libkokkoscore.so.3.2.0
msg: Line map : /usr/lib64/libpthread-2.17.so
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/libmpi_ibm.so.3.1.0
msg: Line map : /usr/lib64/libc-2.17.so
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/libopen-rte.so.3.1.0
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/libopen-pal.so.3.1.0
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/spectrum_mpi/mca_ess_pmi.so
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/spectrum_mpi/mca_pmix_ext3x.so
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/libpmix.so.2.2.24
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/spectrum_mpi/mca_pml_pami.so
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/pami_port/libpami.so.3.1.0
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/libmca_common_pami.so.3.1.0
msg: Line map : /usr/lib64/libibverbs.so.1.0.0
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/spectrum_mpi/mca_coll_ibm.so
msg: Line map : /usr/tce/packages/spectrum-mpi/ibm/spectrum-mpi-2020.08.19/lib/pami_port/libcollectives.so.3.1.0
msg: Line map : /usr/lib64/libmlx5.so.1.0.0
msg: Populating Experiment database: /p/gpfs1/haskins8/hpctoolkit-gcc8/hpctoolkit-database0
logout

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 3106860: <gpu-benchmark> in cluster <lassen> Done

Job <gpu-benchmark> was submitted from host <lassen708> by user <haskins8> in cluster <lassen> at Thu Jan 13 10:48:17 2022
Job was executed on host(s) <1*lassen710>, in queue <pbatch>, as user <haskins8> in cluster <lassen> at Thu Jan 13 10:48:22 2022
                            <40*lassen120>
                            <40*lassen605>
</g/g15/haskins8> was used as the home directory.
</g/g15/haskins8/CUP-ECS/ping-pong-gpu/build-hpctoolkit> was used as the working directory.
Started at Thu Jan 13 10:48:22 2022
Terminated at Thu Jan 13 10:48:48 2022
Results reported at Thu Jan 13 10:48:48 2022

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash

### LSF syntax
#BSUB -nnodes 2                   #number of nodes
#BSUB -W 10                       #walltime in minutes
#BSUB -e log.%J.err               #stderr
#BSUB -o log.%J.out               #stdout
#BSUB -J gpu-benchmark            #name of job
#BSUB -q pbatch                   #queue to use

#cd ~/CUP-ECS/ping-pong-gpu/

export PINGPONGBIN=$(realpath ~/CUP-ECS/ping-pong-gpu/build-hpctoolkit/ping_pong)
export TESTDIR=/p/gpfs1/haskins8/hpctoolkit-gcc8
#export TESTDIR=../fiesta-tests/3D_Expansion_gpu-pack
#export ENV=./env-files/spectrum-mpi-lassen
#export TAG=poster-hpc-toolkit
export OUTDIR=$(realpath /usr/workspace/haskins8/hpctoolkit-gcc8)
mkdir -p ${TESTDIR}
mkdir -p ${OUTDIR}

#. ${ENV}
#spack load hpctoolkit

#export TESTDIRCOPY=~/gpfs/$(basename ${TESTDIR})_$(basename ${ENV})_$(date --iso-8601=seconds)_${TAG}
cp  ${PINGPONGBIN} ${TESTDIR}
cd ${TESTDIR}
#cp ${PINGPONGBIN} .
export PINGPONGBIN=$(realpath ./$(basename ${PINGPONGBIN}))

#for i in 10 20 40 80 160 320 640; do
for i in 10; do
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements0 ${PINGPONGBIN} $i 1000 4 0 0 #--kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 1 0 --kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 2 0 --kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 0 1 --kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 1 1 --kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 2 1 --kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 0 2 --kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 1 2 --kokkos-num-devices=2
#    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -e CPUTIME@f99 -e gpu=nvidia@f99 -o hpctoolkit-measurements ${PINGPONGBIN} $i 1000 4 2 2 --kokkos-num-devices=2
done
hpcstruct -o bin.struct ${PINGPONGBIN}
lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements0
#lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements1
#lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements2
#lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements3
#lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements4
#lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements5
#lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements6

(... more ...)
------------------------------------------------------------

Successfully completed.

Resource usage summary:

    CPU time :                                   0.21 sec.
    Max Memory :                                 -
    Average Memory :                             -
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   -
    Max Processes :                              -
    Max Threads :                                -
    Run time :                                   26 sec.
    Turnaround time :                            31 sec.

The output (if any) is above this job summary.



PS:

Read file <log.3106860.err> for stderr output of this job.

