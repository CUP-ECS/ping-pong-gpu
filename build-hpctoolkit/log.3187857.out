Agent pid 10842
Agent pid 11047
Duration  = 0.079292
Latency   = 0.000040
Bandwidth = 302678656.928536
Duration  = 0.139918
Latency   = 0.000070
Bandwidth = 171529342.466852
Duration  = 0.180628
Latency   = 0.000090
Bandwidth = 132869624.250017

------------------------------------------------------------
Sender: LSF System <lsfadmin@lassen710>
Subject: Job 3187857: <gpu-benchmark> in cluster <lassen> Exited

Job <gpu-benchmark> was submitted from host <lassen709> by user <haskins8> in cluster <lassen> at Wed Jan 19 15:07:48 2022
Job was executed on host(s) <1*lassen710>, in queue <pbatch>, as user <haskins8> in cluster <lassen> at Wed Jan 19 15:09:47 2022
                            <40*lassen122>
                            <40*lassen451>
</g/g15/haskins8> was used as the home directory.
</g/g15/haskins8/CUP-ECS/ping-pong-gpu/build-hpctoolkit> was used as the working directory.
Started at Wed Jan 19 15:09:47 2022
Terminated at Wed Jan 19 15:10:25 2022
Results reported at Wed Jan 19 15:10:25 2022

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash

### LSF syntax
#BSUB -nnodes 2                   #number of nodes
#BSUB -W 720                      #walltime in minutes
#BSUB -e log.%J.err               #stderr
#BSUB -o log.%J.out               #stdout
#BSUB -J gpu-benchmark            #name of job
#BSUB -q pbatch                   #queue to use

cd ~/CUP-ECS/ping-pong-gpu/build-hpctoolkit/
source mods

export PINGPONGBIN=$(realpath ~/CUP-ECS/ping-pong-gpu/build-hpctoolkit/ping_pong)
export TESTDIR=/p/gpfs1/haskins8/hpctoolkit-gcc8
#export TESTDIR=../fiesta-tests/3D_Expansion_gpu-pack
#export ENV=./env-files/spectrum-mpi-lassen
#export TAG=poster-hpc-toolkit
export OUTDIR=$(realpath /usr/workspace/haskins8/hpctoolkit-gcc8)
mkdir -p ${TESTDIR}
mkdir -p ${OUTDIR}

#. ${ENV}
#spack load hpctoolkit

#export TESTDIRCOPY=~/gpfs/$(basename ${TESTDIR})_$(basename ${ENV})_$(date --iso-8601=seconds)_${TAG}
cp  ${PINGPONGBIN} ${TESTDIR}
cd ${TESTDIR}
#cp ${PINGPONGBIN} .
export PINGPONGBIN=$(realpath ./$(basename ${PINGPONGBIN}))

#for i in 640; do
for i in 10 20 40 80 160 320 640; do
#for i in 10 20; do
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements0 ${PINGPONGBIN} $i 1000 4 0 0 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements1 ${PINGPONGBIN} $i 1000 4 1 0 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements2 ${PINGPONGBIN} $i 1000 4 2 0 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements3 ${PINGPONGBIN} $i 1000 4 0 1 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements4 ${PINGPONGBIN} $i 1000 4 1 1 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements5 ${PINGPONGBIN} $i 1000 4 2 1 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements6 ${PINGPONGBIN} $i 1000 4 0 2 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements7 ${PINGPONGBIN} $i 1000 4 1 2 #--kokkos-num-devices=2
    lrun -M "-gpu" -N 2 -T 1 -g 1 --gpubind=off hpcrun -t -o hpctoolkit-measurements8 ${PINGPONGBIN} $i 1000 4 2 2 #--kokkos-num-devices=2
done

hpcstruct -o bin.struct ${PINGPONGBIN}
lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct0 -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements0
lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct1 -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements1
lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct2 -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements2
lrun -N 2 -T 1 hpcprof-mpi --metric-db yes -S ./bin.struct3 -I ~/CUP-ECS/ping-pong-gpu/src ./hpctoolkit-measurements3

(... more ...)
------------------------------------------------------------

TERM_OWNER: job killed by owner.
Exited with exit code 255.

Resource usage summary:

    CPU time :                                   0.80 sec.
    Max Memory :                                 59 MB
    Average Memory :                             59.00 MB
    Total Requested Memory :                     -
    Delta Memory :                               -
    Max Swap :                                   1425 MB
    Max Processes :                              4
    Max Threads :                                27
    Run time :                                   38 sec.
    Turnaround time :                            157 sec.

The output (if any) is above this job summary.



PS:

Read file <log.3187857.err> for stderr output of this job.

